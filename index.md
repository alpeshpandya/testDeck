---
title       : Insurance Predictor App
subtitle    : Naive Version
author      : Alpesh Pandya
logo        : 2990104.png
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
---


## Instructions for to use the app
* This app uses lenear model to predict insurance premium based on age
* The training data was generated by random values in data.csv file
* Reading data from file and building predictor model using Age variable only once (load time)
* Every time Submit button is clicked, the Age input value is passed to perdition model which returns predicted value of insurance premium
* Age input box allows any values between 0 and 100

To access the app [Click Here] (https://alpeshpandya.shinyapps.io/shiny/)

---

## How is it built?
* This Shiny app uses lenear model and some randomly generated data to predict Insurance Premiums based on Age only for demonstration purposes
* The data load and model building is done one time in server.R
* This is how the predictor model is built


```r
lm <- train(Premium ~ ., data = data, method = "lm")
```

Also a function is created which uses the model created above to predict value of Insurance Premium based on Age

```r
predictor<-function(input){
  inputdata<-c(input,NA)
  names(inputdata)<-c("Age","Premium")
  output<-predict(lm,newdata=data[input,])
  output;
}
```

---

## server.R 

The server.R file contains logic to use predictor model we saw in previous slide and provides reactive calculated value of Insurance Premium based on Age input

This is the function in server.R which essentially does the job

```r
shinyServer(
  function(input, output) {
    output$inputValue <- renderPrint({input$Age})
    output$prediction <- renderPrint({predictor(input$Age)})
    
  }
)
```

---

## ui.R

The ui.R takes care of rendering input fields, output fields (calculated by server.R), page layout and instructions on using the App

Some part of the code snippet :

```r
shinyUI(
  pageWithSidebar(
    # Insurance Premium
    headerPanel("Premium prediction"),
    sidebarPanel(
      numericInput('Age', 'Age', 30, min = 0, max = 100, step = 1),
      submitButton('Submit')
    ),
    mainPanel(
      h3('Results of prediction'),
      h4('You entered'),
      verbatimTextOutput("inputValue"),
      h4('Which resulted in a prediction of '),
      verbatimTextOutput("prediction"),
      
      HTML('<p><b>Instructions</b></p>'),
      HTML('<ul><li>This app uses lenear model to predict insurance premium based on age</li>'),
      HTML("<li>The training data was generated by random values in data.csv file</li>"),
      HTML("<li>Reading data from file and building predictor model using Age variable only once (load time)</li>"),
      HTML("<li>Every time Submit button is clicked, the Age input value is passed to perdition model which returns predicted value of insurance premium</li>"),
      HTML("<li>Age input box allows any values between 0 and 100</li>"),  
      HTML("</ul>")
    )
  )
)
```

---

## Conclusion
Shiny provides simple and efficient way to develop and deploy great data products.

Refer this great tutorial to learn more about shiny [Here](http://rstudio.github.io/shiny/tutorial/)
